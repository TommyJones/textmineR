<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2. document clustering • textmineR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="2. document clustering">
<meta property="og:description" content="textmineR">
<meta property="og:image" content="https://www.rtextmineR.com/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">textmineR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.5.999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a_start_here.html">1. Start here</a>
    </li>
    <li>
      <a href="../articles/b_document_clustering.html">2. document clustering</a>
    </li>
    <li>
      <a href="../articles/c_topic_modeling.html">3. Topic modeling</a>
    </li>
    <li>
      <a href="../articles/d_text_embeddings.html">4. Text embeddings</a>
    </li>
    <li>
      <a href="../articles/e_doc_summarization.html">5. Document summarization</a>
    </li>
    <li>
      <a href="../articles/f_tidytext_example.html">6. Using tidytext with textmineR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/TommyJones/textmineR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>2. document clustering</h1>
                        <h4 data-toc-skip class="author">Thomas W.
Jones</h4>
            
            <h4 data-toc-skip class="date">2023-06-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/TommyJones/textmineR/blob/HEAD/vignettes/b_document_clustering.Rmd" class="external-link"><code>vignettes/b_document_clustering.Rmd</code></a></small>
      <div class="hidden name"><code>b_document_clustering.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="document-clustering">Document clustering<a class="anchor" aria-label="anchor" href="#document-clustering"></a>
</h2>
<p>A common task in text mining is document clustering. There are other
ways to cluster documents. However, for this vignette, we will stick
with the basics. The example below shows the most common method, using
<a href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf" class="external-link">TF-IDF</a> and cosine
distance.</p>
<p>Let’s read in some data and make a document term matrix (DTM) and get
started.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.rtextminer.com/" class="external-link">textmineR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: Matrix</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'textmineR'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:Matrix':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     update</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     update</span></span>
<span></span>
<span><span class="co"># load nih_sample data set from textmineR</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">nih_sample</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a document term matrix </span></span>
<span><span class="va">dtm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CreateDtm.html">CreateDtm</a></span><span class="op">(</span>doc_vec <span class="op">=</span> <span class="va">nih_sample</span><span class="op">$</span><span class="va">ABSTRACT_TEXT</span>, <span class="co"># character vector of documents</span></span>
<span>                 doc_names <span class="op">=</span> <span class="va">nih_sample</span><span class="op">$</span><span class="va">APPLICATION_ID</span>, <span class="co"># document names</span></span>
<span>                 ngram_window <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="co"># minimum and maximum n-gram length</span></span>
<span>                 stopword_vec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">stopwords</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stopwords/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span>, <span class="co"># stopwords from tm</span></span>
<span>                                  <span class="fu">stopwords</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stopwords/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span>source <span class="op">=</span> <span class="st">"smart"</span><span class="op">)</span><span class="op">)</span>, <span class="co"># this is the default value</span></span>
<span>                 lower <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># lowercase - this is the default value</span></span>
<span>                 remove_punctuation <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># punctuation - this is the default</span></span>
<span>                 remove_numbers <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># numbers - this is the default</span></span>
<span>                 verbose <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># Turn off status bar for this demo</span></span>
<span>                 cpus <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="co"># default is all available cpus on the system</span></span>
<span><span class="co">#&gt; 'as(&lt;dgTMatrix&gt;, "dgCMatrix")' is deprecated.</span></span>
<span><span class="co">#&gt; Use 'as(., "CsparseMatrix")' instead.</span></span>
<span><span class="co">#&gt; See help("Deprecated") and help("Matrix-deprecated").</span></span>
<span></span>
<span><span class="co"># construct the matrix of term counts to get the IDF vector</span></span>
<span><span class="va">tf_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/TermDocFreq.html">TermDocFreq</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">)</span></span></code></pre></div>
<p>First, we must re-weight the word counts in the document term matrix.
We do this by multiplying the term frequency (in this case, count of
words in documents) by an inverse document frequency (IDF) vector.
textmineR calculates IDF for the <span class="math inline">\(i\)</span>-th word as</p>
<p><span class="math display">\[\begin{align}
  IDF_i = ln\big(\frac{N}{\sum_{j = 1}^N C(word_i, doc_j)}\big)
\end{align}\]</span></p>
<p>where <span class="math inline">\(N\)</span> is the number of
documents in the corpus.</p>
<p>By default, when you multiply a matrix with a vector, R multiplies
the vector to each column. For this reason, we need to transpose the DTM
before multiplying the IDF vector. Then we transpose it back to the
original orientation.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># TF-IDF and cosine similarity</span></span>
<span><span class="va">tfidf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">[</span> , <span class="va">tf_mat</span><span class="op">$</span><span class="va">term</span> <span class="op">]</span><span class="op">)</span> <span class="op">*</span> <span class="va">tf_mat</span><span class="op">$</span><span class="va">idf</span></span>
<span></span>
<span><span class="va">tfidf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">tfidf</span><span class="op">)</span></span></code></pre></div>
<p>The next step is to calculate cosine similarity and change it to a
distance. We’re going to use some linear algebra to do this. The dot
product of two positive-valued, unit-length vectors is the cosine
similarity between the two vectors. For a deeper explanation of the math
and logic, read <a href="https://anythingbutrbitrary.blogspot.com/2013/03/build-search-engine-in-20-minutes-or.html" class="external-link">this
article</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">csim</span> <span class="op">&lt;-</span> <span class="va">tfidf</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">tfidf</span> <span class="op">*</span> <span class="va">tfidf</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">csim</span> <span class="op">&lt;-</span> <span class="va">csim</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">csim</span><span class="op">)</span></span></code></pre></div>
<p>R’s various clustering functions work with distances, not
similarities. We convert cosine similarity to cosine distance by
subtracting it from <span class="math inline">\(1\)</span>. This works
because cosine similarity is bound between <span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span>. While we are at it, we’ll convert the
matrix to a <code>dist</code> object.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">cdist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">as.dist</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">csim</span><span class="op">)</span></span></code></pre></div>
<p>The last step is clustering. There are many clustering algorithms out
there. My preference is <a href="https://en.wikipedia.org/wiki/Hierarchical_clustering" class="external-link">agglomerative
hierarchical clustering</a> using <a href="https://en.wikipedia.org/wiki/Ward%27s_method" class="external-link">Ward’s method</a>
as the merge rule. Compared to other methods, such as k-means,
hierarchical clustering is computationally inexpensive.</p>
<p>In the example below, I choose to cut the tree at <span class="math inline">\(10\)</span> clusters. This is a somewhat arbitrary
choice. I often prefer to use the silhouette coefficient. You can read
about this method <a href="https://www.datanovia.com/en/lessons/determining-the-optimal-number-of-clusters-3-must-know-methods/" class="external-link">here</a>.
Performing this is an exercise I’ll leave to the reader.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">hc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">hclust</a></span><span class="op">(</span><span class="va">cdist</span>, <span class="st">"ward.D"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">clustering</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cutree.html" class="external-link">cutree</a></span><span class="op">(</span><span class="va">hc</span>, <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">hc</span>, main <span class="op">=</span> <span class="st">"Hierarchical clustering of 100 NIH grant abstracts"</span>,</span>
<span>     ylab <span class="op">=</span> <span class="st">""</span>, xlab <span class="op">=</span> <span class="st">""</span>, yaxt <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/rect.hclust.html" class="external-link">rect.hclust</a></span><span class="op">(</span><span class="va">hc</span>, <span class="fl">10</span>, border <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<p><img src="b_document_clustering_files/figure-html/unnamed-chunk-5-1.png" width="720"></p>
<p>It might be nice to get an idea of what’s in each of these clusters.
We can use the probability difference method from above.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">clustering</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">rows</span> <span class="op">&lt;-</span> <span class="va">dtm</span><span class="op">[</span> <span class="va">clustering</span> <span class="op">==</span> <span class="va">x</span> , <span class="op">]</span></span>
<span>  </span>
<span>  <span class="co"># for memory's sake, drop all words that don't appear in the cluster</span></span>
<span>  <span class="va">rows</span> <span class="op">&lt;-</span> <span class="va">rows</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">rows</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">]</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">rows</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">rows</span><span class="op">)</span> <span class="op">-</span> <span class="va">p_words</span><span class="op">[</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">rows</span><span class="op">)</span> <span class="op">]</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>The code chunk below creates a summary table of clusters. Each
cluster’s size and the top 5 words are represented.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create a summary table of the top 5 words defining each cluster</span></span>
<span><span class="va">cluster_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>cluster <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">clustering</span><span class="op">)</span>,</span>
<span>                              size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">clustering</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                              top_words <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">cluster_words</span>, <span class="kw">function</span><span class="op">(</span><span class="va">d</span><span class="op">)</span><span class="op">{</span></span>
<span>                                <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>                                  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span><span class="op">[</span> <span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">d</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">]</span><span class="op">[</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span> <span class="op">]</span>, </span>
<span>                                  collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span></span>
<span>                              <span class="op">}</span><span class="op">)</span>,</span>
<span>                              stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cluster_summary</span></span></code></pre></div>
<table class="table">
<caption>Cluster summary table</caption>
<thead><tr class="header">
<th align="right">cluster</th>
<th align="right">size</th>
<th align="left">top_words</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">23</td>
<td align="left">risk, health, diabetes, intervention, treatment</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">4</td>
<td align="left">hiv, inflammation, env, testing, study</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">38</td>
<td align="left">cell, infection, determine, cells, function</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">7</td>
<td align="left">research, program, cancer, disparities, students</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">8</td>
<td align="left">cancer, brain, imaging, tumor, metastatic</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">3</td>
<td align="left">microbiome, crc, gut, psoriasis, gut_microbiome</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">3</td>
<td align="left">cdk, nmdar, nmdars, calpain, nrs</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">7</td>
<td align="left">research, core, center, support, translational</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">3</td>
<td align="left">lung, ipf, expression, cells, methylation</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">4</td>
<td align="left">mitochondrial, metabolic, redox, ros, bde</td>
</tr>
</tbody>
</table>
<p>You may want a word cloud to visualize each cluster. Using the
<code>wordcloud</code> package, we plot cluster 100 below.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot a word cloud of one cluster as an example</span></span>
<span><span class="fu">wordcloud</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud/man/wordcloud.html" class="external-link">wordcloud</a></span><span class="op">(</span>words <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cluster_words</span><span class="op">[[</span> <span class="fl">5</span> <span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>                     freq <span class="op">=</span> <span class="va">cluster_words</span><span class="op">[[</span> <span class="fl">5</span> <span class="op">]</span><span class="op">]</span>, </span>
<span>                     max.words <span class="op">=</span> <span class="fl">50</span>, </span>
<span>                     random.order <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                     colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"yellow"</span>, <span class="st">"blue"</span><span class="op">)</span>,</span>
<span>                     main <span class="op">=</span> <span class="st">"Top words in cluster 100"</span><span class="op">)</span></span></code></pre></div>
<p><img src="b_document_clustering_files/figure-html/unnamed-chunk-10-1.png" width="720"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tommy Jones.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '3c26218210734fb0fe605f17d745faba',
    indexName: 'rtextminer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
